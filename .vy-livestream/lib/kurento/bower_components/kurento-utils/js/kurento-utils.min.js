!function(e){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=e();else if("function"==typeof define&&define.amd)define([],e);else{("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).kurentoUtils=e()}}(function(){return function(){return function e(i,t,r){function n(o,a){if(!t[o]){if(!i[o]){var c="function"==typeof require&&require;if(!a&&c)return c(o,!0);if(s)return s(o,!0);var d=new Error("Cannot find module '"+o+"'");throw d.code="MODULE_NOT_FOUND",d}var u=t[o]={exports:{}};i[o][0].call(u.exports,function(e){return n(i[o][1][e]||e)},u,u.exports,e,i,t,r)}return t[o].exports}for(var s="function"==typeof require&&require,o=0;o<r.length;o++)n(r[o]);return n}}()({1:[function(e,i,t){var r=e("freeice"),n=e("inherits"),s=e("ua-parser-js"),o=e("uuid/v4"),a=e("hark"),c=e("events").EventEmitter,d=e("merge").recursive.bind(void 0,!0),u=e("sdp-translator"),l="undefined"==typeof window?console:window.Logger||console;try{e("kurento-browser-extensions")}catch(e){"undefined"==typeof getScreenConstraints&&(l.warn("screen sharing is not available"),getScreenConstraints=function(e,i){i(new Error("This library is not enabled for screen sharing"))})}var p={audio:!0,video:{width:640,framerate:15}},f=new s("undefined"!=typeof window&&window.navigator?window.navigator.userAgent:"").getBrowser();"IE"===f.name&&function(e){var i=document.createElement("script");i.src=e;var t=document.querySelector("script");t.parentNode.insertBefore(i,t)}("https://cdn.temasys.io/adapterjs/0.15.x/adapter.debug.js");var m=!1;function h(e){e&&l.error(e)}function g(e){e.stop&&e.stop()}function v(e){e.getTracks().forEach(g)}"Chrome"!==f.name&&"Chromium"!==f.name||(l.debug(f.name+": using SDP PlanB"),m=!0);var w=function(e){return null==e?"":"type: "+e.type+"\r\n"+e.sdp};function y(e,i){var t=[];return function(e,i){"undefined"!=typeof AdapterJS&&"IE"===AdapterJS.webrtcDetectedBrowser&&AdapterJS.webrtcDetectedVersion>=9?i.onsignalingstatechange=e:i.addEventListener("signalingstatechange",e)}(function(){if("stable"===e.signalingState)for(;t.length;){var i=t.shift();e.addIceCandidate(i.candidate,i.callback,i.callback)}},e),function(r,n){switch(n=n||i,e.signalingState){case"closed":n(new Error("PeerConnection object is closed"));break;case"stable":if(e.remoteDescription){e.addIceCandidate(r,n,n);break}default:t.push({candidate:r,callback:n})}}}function b(e){var i=e.getVideoTracks();if(!i.length)return l.warn("No video tracks available in the video stream"),"";var t=["a=x-google-flag:conference","a=ssrc-group:SIM 1 2 3","a=ssrc:1 cname:localVideo","a=ssrc:1 msid:"+e.id+" "+i[0].id,"a=ssrc:1 mslabel:"+e.id,"a=ssrc:1 label:"+i[0].id,"a=ssrc:2 cname:localVideo","a=ssrc:2 msid:"+e.id+" "+i[0].id,"a=ssrc:2 mslabel:"+e.id,"a=ssrc:2 label:"+i[0].id,"a=ssrc:3 cname:localVideo","a=ssrc:3 msid:"+e.id+" "+i[0].id,"a=ssrc:3 mslabel:"+e.id,"a=ssrc:3 label:"+i[0].id];return t.push(""),t.join("\n")}function S(e,i,t){if(!(this instanceof S))return new S(e,i,t);S.super_.call(this),i instanceof Function&&(t=i,i=void 0),i=i||{},t=(t||h).bind(this);var n,s=this,a=i.localVideo,g=i.remoteVideo,v=i.videoStream,x=i.audioStream,k=i.mediaConstraints,E=i.peerConnection,A=i.sendSource||"webcam",C=i.dataChannelConfig,T=i.dataChannels||!1,L=o(),P=(d({iceServers:r()},i.configuration),i.iceServers||{iceServers:r()}),_=i.onicecandidate;_&&this.on("icecandidate",_);var O=i.oncandidategatheringdone;O&&this.on("candidategatheringdone",O);var j=i.simulcast,M=i.multistream,B=new u.Interop,D=[],R=!1;if(Object.defineProperties(this,{peerConnection:{get:function(){return E}},id:{value:i.id||L,writable:!1},remoteVideo:{get:function(){return g}},localVideo:{get:function(){return a}},dataChannel:{get:function(){return n}},currentFrame:{get:function(){if(g){if(g.readyState<g.HAVE_CURRENT_DATA)throw new Error("No video stream data available");var e=document.createElement("canvas");return e.width=g.videoWidth,e.height=g.videoHeight,e.getContext("2d").drawImage(g,0,0),e}}}}),!E&&(E=new RTCPeerConnection(P),T&&!n)){var U="WebRtcPeer-"+s.id,N=void 0;C&&(U=C.id||U,N=C.options),n=E.createDataChannel(U,N),C&&(n.onopen=C.onopen,n.onclose=C.onclose,n.onmessage=C.onmessage,n.onbufferedamountlow=C.onbufferedamountlow,n.onerror=C.onerror||h)}!E.getLocalStreams&&E.getSenders&&(E.getLocalStreams=function(){var e=new MediaStream;return E.getSenders().forEach(function(i){e.addTrack(i.track)}),[e]}),!E.getRemoteStreams&&E.getReceivers&&(E.getRemoteStreams=function(){var e=new MediaStream;return E.getReceivers().forEach(function(i){e.addTrack(i.track)}),[e]});!function(e,i){"undefined"!=typeof AdapterJS&&"IE"===AdapterJS.webrtcDetectedBrowser&&AdapterJS.webrtcDetectedVersion>=9?i.onicecandidate=e:i.addEventListener("icecandidate",e)}(function(e){var i,t=e.candidate;c.listenerCount(s,"icecandidate")||c.listenerCount(s,"candidategatheringdone")?t?(i=M&&m?B.candidateToUnifiedPlan(t):t,"undefined"==typeof AdapterJS&&s.emit("icecandidate",i),R=!1):R||("undefined"!=typeof AdapterJS&&"IE"===AdapterJS.webrtcDetectedBrowser&&AdapterJS.webrtcDetectedVersion>=9?c.prototype.emit("candidategatheringdone",i):s.emit("candidategatheringdone"),R=!0):R||(D.push(t),t||(R=!0))},E),E.onaddstream=i.onaddstream,E.onnegotiationneeded=i.onnegotiationneeded,this.on("newListener",function(e,i){if("icecandidate"===e||"candidategatheringdone"===e)for(;D.length;){var t=D.shift();!t==("candidategatheringdone"===e)&&i(t)}});var I=y(E);function V(){if(g){g.pause();var e=E.getRemoteStreams()[0];g.srcObject=e,l.debug("Remote stream:",e),"undefined"!=typeof AdapterJS&&"IE"===AdapterJS.webrtcDetectedBrowser&&AdapterJS.webrtcDetectedVersion>=9?g=attachMediaStream(g,e):g.load()}}function F(e){var i,t;return j&&("Chrome"===f.name||"Chromium"===f.name?(l.debug("Adding multicast info"),e=new RTCSessionDescription({type:e.type,sdp:(i=e.sdp,t=i.indexOf("a=ssrc-group:FID"),(t>0?i.slice(0,t):i)+b(v))})):l.warn("Simulcast is only available in Chrome browser.")),e}function z(){"closed"===E.signalingState&&t('The peer connection object is in "closed" state. This is most likely due to an invocation of the dispose method before accepting in the dialogue'),v&&a&&s.showLocalVideo(),v&&v.getTracks().forEach(function(e){E.addTrack(e,v)}),x&&x.getTracks().forEach(function(e){E.addTrack(e,x)}),t()}if(this.addIceCandidate=function(e,i){var t;t=M&&m?B.candidateToPlanB(e):new RTCIceCandidate(e),l.debug("Remote ICE candidate received",e),i=(i||h).bind(this),I(t,i)},this.generateOffer=function(i){if(i=i.bind(this),"recvonly"===e){var t=!k||"boolean"!=typeof k.audio||k.audio,r=!k||"boolean"!=typeof k.video||k.video;t&&E.addTransceiver("audio",{direction:"recvonly"}),r&&E.addTransceiver("video",{direction:"recvonly"})}else"sendonly"===e&&E.getTransceivers().forEach(function(e){e.direction="sendonly"});if("undefined"!=typeof AdapterJS&&"IE"===AdapterJS.webrtcDetectedBrowser&&AdapterJS.webrtcDetectedVersion>=9){var n=function(){!function(e){for(var i=(new Date).getTime(),t=0;t<1e7&&!((new Date).getTime()-i>e);t++);}(1e3);var e=E.localDescription;l.debug("Local description set\n",e.sdp),M&&m&&(e=B.toUnifiedPlan(e),l.debug("offer::origPlanB->UnifiedPlan",w(e))),i(null,e.sdp,s.processAnswer.bind(s))};E.createOffer(function(e){l.debug("Created SDP offer"),l.debug("Local description set\n",E.localDescription),E.setLocalDescription(e,n,i)},i)}else E.createOffer().then(function(e){return l.debug("Created SDP offer"),e=F(e),E.setLocalDescription(e)}).then(function(){var e=E.localDescription;l.debug("Local description set\n",e.sdp),M&&m&&(e=B.toUnifiedPlan(e),l.debug("offer::origPlanB->UnifiedPlan",w(e))),i(null,e.sdp,s.processAnswer.bind(s))}).catch(i)},this.getLocalSessionDescriptor=function(){return E.localDescription},this.getRemoteSessionDescriptor=function(){return E.remoteDescription},this.showLocalVideo=function(){a.srcObject=v,a.muted=!0,"undefined"!=typeof AdapterJS&&"IE"===AdapterJS.webrtcDetectedBrowser&&AdapterJS.webrtcDetectedVersion>=9&&(a=attachMediaStream(a,v))},this.send=function(e){n&&"open"===n.readyState?n.send(e):l.warn("Trying to send data over a non-existing or closed data channel")},this.processAnswer=function(e,i){i=(i||h).bind(this);var t=new RTCSessionDescription({type:"answer",sdp:e});if(M&&m){var r=B.toPlanB(t);l.debug("asnwer::planB",w(r)),t=r}if(l.debug("SDP answer received, setting remote description"),"closed"===E.signalingState)return i("PeerConnection is closed");E.setRemoteDescription(t).then(function(){V(),i()},i)},this.processOffer=function(e,i){i=i.bind(this);var t=new RTCSessionDescription({type:"offer",sdp:e});if(M&&m){var r=B.toPlanB(t);l.debug("offer::planB",w(r)),t=r}if(l.debug("SDP offer received, setting remote description"),"closed"===E.signalingState)return i("PeerConnection is closed");E.setRemoteDescription(t).then(function(){return V()}).then(function(){return E.createAnswer()}).then(function(e){return e=F(e),l.debug("Created SDP answer"),E.setLocalDescription(e)}).then(function(){var e=E.localDescription;M&&m&&(e=B.toUnifiedPlan(e),l.debug("answer::origPlanB->UnifiedPlan",w(e))),l.debug("Local description set\n",e.sdp),i(null,e.sdp)}).catch(i)},"recvonly"===e||v||x)setTimeout(z,0);else{function G(e){void 0===e&&(e=p),"undefined"!=typeof AdapterJS&&"IE"===AdapterJS.webrtcDetectedBrowser&&AdapterJS.webrtcDetectedVersion>=9?navigator.getUserMedia(e,function(e){v=e,z()},t):navigator.mediaDevices.getUserMedia(e).then(function(e){v=e,z()}).catch(t)}"webcam"===A?G(k):getScreenConstraints(A,function(e,i){if(e)return t(e);constraints=[k],constraints.unshift(i),G(d.apply(void 0,constraints))},L)}this.on("_dispose",function(){a&&(a.pause(),a.srcObject=null,"undefined"==typeof AdapterJS&&a.load(),a.muted=!1),g&&(g.pause(),g.srcObject=null,"undefined"==typeof AdapterJS&&g.load()),s.removeAllListeners(),"undefined"!=typeof window&&void 0!==window.cancelChooseDesktopMedia&&window.cancelChooseDesktopMedia(L)})}function x(e){var i="get"+e+"Tracks";return{enumerable:!0,get:function(){if(this.peerConnection){var e=this.peerConnection.getLocalStreams();if(e.length){for(var t,r=0;t=e[r];r++)for(var n,s=t[i](),o=0;n=s[o];o++)if(!n.enabled)return!1;return!0}}},set:function(e){function t(i){i.enabled=e}this.peerConnection.getLocalStreams().forEach(function(e){e[i]().forEach(t)})}}}function k(e,i){if(!(this instanceof k))return new k(e,i);k.super_.call(this,"recvonly",e,i)}function E(e,i){if(!(this instanceof E))return new E(e,i);E.super_.call(this,"sendonly",e,i)}function A(e,i){if(!(this instanceof A))return new A(e,i);A.super_.call(this,"sendrecv",e,i)}n(S,c),Object.defineProperties(S.prototype,{enabled:{enumerable:!0,get:function(){return this.audioEnabled&&this.videoEnabled},set:function(e){this.audioEnabled=this.videoEnabled=e}},audioEnabled:x("Audio"),videoEnabled:x("Video")}),S.prototype.getLocalStream=function(e){if(this.peerConnection)return this.peerConnection.getLocalStreams()[e||0]},S.prototype.getRemoteStream=function(e){if(this.peerConnection)return this.peerConnection.getRemoteStreams()[e||0]},S.prototype.dispose=function(){l.debug("Disposing WebRtcPeer");var e=this.peerConnection,i=this.dataChannel;try{if(i){if("closed"===i.readyState)return;i.close()}if(e){if("closed"===e.signalingState)return;e.getLocalStreams().forEach(v),e.close()}}catch(e){l.warn("Exception disposing webrtc peer "+e)}"undefined"==typeof AdapterJS&&this.emit("_dispose")},n(k,S),n(E,S),n(A,S),t.bufferizeCandidates=y,t.WebRtcPeerRecvonly=k,t.WebRtcPeerSendonly=E,t.WebRtcPeerSendrecv=A,t.hark=function(e,i){return a(e,i)}},{events:4,freeice:5,hark:8,inherits:9,"kurento-browser-extensions":10,merge:11,"sdp-translator":18,"ua-parser-js":21,"uuid/v4":24}],2:[function(e,i,t){window.addEventListener&&(i.exports=e("./index"))},{"./index":3}],3:[function(e,i,t){var r=e("./WebRtcPeer");t.WebRtcPeer=r},{"./WebRtcPeer":1}],4:[function(e,i,t){var r=Object.create||function(e){var i=function(){};return i.prototype=e,new i},n=Object.keys||function(e){var i=[];for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&i.push(t);return t},s=Function.prototype.bind||function(e){var i=this;return function(){return i.apply(e,arguments)}};function o(){this._events&&Object.prototype.hasOwnProperty.call(this,"_events")||(this._events=r(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0}i.exports=o,o.EventEmitter=o,o.prototype._events=void 0,o.prototype._maxListeners=void 0;var a,c=10;try{var d={};Object.defineProperty&&Object.defineProperty(d,"x",{value:0}),a=0===d.x}catch(e){a=!1}function u(e){return void 0===e._maxListeners?o.defaultMaxListeners:e._maxListeners}function l(e,i,t,n){var s,o,a;if("function"!=typeof t)throw new TypeError('"listener" argument must be a function');if((o=e._events)?(o.newListener&&(e.emit("newListener",i,t.listener?t.listener:t),o=e._events),a=o[i]):(o=e._events=r(null),e._eventsCount=0),a){if("function"==typeof a?a=o[i]=n?[t,a]:[a,t]:n?a.unshift(t):a.push(t),!a.warned&&(s=u(e))&&s>0&&a.length>s){a.warned=!0;var c=new Error("Possible EventEmitter memory leak detected. "+a.length+' "'+String(i)+'" listeners added. Use emitter.setMaxListeners() to increase limit.');c.name="MaxListenersExceededWarning",c.emitter=e,c.type=i,c.count=a.length,"object"==typeof console&&console.warn&&console.warn("%s: %s",c.name,c.message)}}else a=o[i]=t,++e._eventsCount;return e}function p(){if(!this.fired)switch(this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length){case 0:return this.listener.call(this.target);case 1:return this.listener.call(this.target,arguments[0]);case 2:return this.listener.call(this.target,arguments[0],arguments[1]);case 3:return this.listener.call(this.target,arguments[0],arguments[1],arguments[2]);default:for(var e=new Array(arguments.length),i=0;i<e.length;++i)e[i]=arguments[i];this.listener.apply(this.target,e)}}function f(e,i,t){var r={fired:!1,wrapFn:void 0,target:e,type:i,listener:t},n=s.call(p,r);return n.listener=t,r.wrapFn=n,n}function m(e,i,t){var r=e._events;if(!r)return[];var n=r[i];return n?"function"==typeof n?t?[n.listener||n]:[n]:t?function(e){for(var i=new Array(e.length),t=0;t<i.length;++t)i[t]=e[t].listener||e[t];return i}(n):g(n,n.length):[]}function h(e){var i=this._events;if(i){var t=i[e];if("function"==typeof t)return 1;if(t)return t.length}return 0}function g(e,i){for(var t=new Array(i),r=0;r<i;++r)t[r]=e[r];return t}a?Object.defineProperty(o,"defaultMaxListeners",{enumerable:!0,get:function(){return c},set:function(e){if("number"!=typeof e||e<0||e!=e)throw new TypeError('"defaultMaxListeners" must be a positive number');c=e}}):o.defaultMaxListeners=c,o.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||isNaN(e))throw new TypeError('"n" argument must be a positive number');return this._maxListeners=e,this},o.prototype.getMaxListeners=function(){return u(this)},o.prototype.emit=function(e){var i,t,r,n,s,o,a="error"===e;if(o=this._events)a=a&&null==o.error;else if(!a)return!1;if(a){if(arguments.length>1&&(i=arguments[1]),i instanceof Error)throw i;var c=new Error('Unhandled "error" event. ('+i+")");throw c.context=i,c}if(!(t=o[e]))return!1;var d="function"==typeof t;switch(r=arguments.length){case 1:!function(e,i,t){if(i)e.call(t);else for(var r=e.length,n=g(e,r),s=0;s<r;++s)n[s].call(t)}(t,d,this);break;case 2:!function(e,i,t,r){if(i)e.call(t,r);else for(var n=e.length,s=g(e,n),o=0;o<n;++o)s[o].call(t,r)}(t,d,this,arguments[1]);break;case 3:!function(e,i,t,r,n){if(i)e.call(t,r,n);else for(var s=e.length,o=g(e,s),a=0;a<s;++a)o[a].call(t,r,n)}(t,d,this,arguments[1],arguments[2]);break;case 4:!function(e,i,t,r,n,s){if(i)e.call(t,r,n,s);else for(var o=e.length,a=g(e,o),c=0;c<o;++c)a[c].call(t,r,n,s)}(t,d,this,arguments[1],arguments[2],arguments[3]);break;default:for(n=new Array(r-1),s=1;s<r;s++)n[s-1]=arguments[s];!function(e,i,t,r){if(i)e.apply(t,r);else for(var n=e.length,s=g(e,n),o=0;o<n;++o)s[o].apply(t,r)}(t,d,this,n)}return!0},o.prototype.addListener=function(e,i){return l(this,e,i,!1)},o.prototype.on=o.prototype.addListener,o.prototype.prependListener=function(e,i){return l(this,e,i,!0)},o.prototype.once=function(e,i){if("function"!=typeof i)throw new TypeError('"listener" argument must be a function');return this.on(e,f(this,e,i)),this},o.prototype.prependOnceListener=function(e,i){if("function"!=typeof i)throw new TypeError('"listener" argument must be a function');return this.prependListener(e,f(this,e,i)),this},o.prototype.removeListener=function(e,i){var t,n,s,o,a;if("function"!=typeof i)throw new TypeError('"listener" argument must be a function');if(!(n=this._events))return this;if(!(t=n[e]))return this;if(t===i||t.listener===i)0==--this._eventsCount?this._events=r(null):(delete n[e],n.removeListener&&this.emit("removeListener",e,t.listener||i));else if("function"!=typeof t){for(s=-1,o=t.length-1;o>=0;o--)if(t[o]===i||t[o].listener===i){a=t[o].listener,s=o;break}if(s<0)return this;0===s?t.shift():function(e,i){for(var t=i,r=t+1,n=e.length;r<n;t+=1,r+=1)e[t]=e[r];e.pop()}(t,s),1===t.length&&(n[e]=t[0]),n.removeListener&&this.emit("removeListener",e,a||i)}return this},o.prototype.removeAllListeners=function(e){var i,t,s;if(!(t=this._events))return this;if(!t.removeListener)return 0===arguments.length?(this._events=r(null),this._eventsCount=0):t[e]&&(0==--this._eventsCount?this._events=r(null):delete t[e]),this;if(0===arguments.length){var o,a=n(t);for(s=0;s<a.length;++s)"removeListener"!==(o=a[s])&&this.removeAllListeners(o);return this.removeAllListeners("removeListener"),this._events=r(null),this._eventsCount=0,this}if("function"==typeof(i=t[e]))this.removeListener(e,i);else if(i)for(s=i.length-1;s>=0;s--)this.removeListener(e,i[s]);return this},o.prototype.listeners=function(e){return m(this,e,!0)},o.prototype.rawListeners=function(e){return m(this,e,!1)},o.listenerCount=function(e,i){return"function"==typeof e.listenerCount?e.listenerCount(i):h.call(e,i)},o.prototype.listenerCount=h,o.prototype.eventNames=function(){return this._eventsCount>0?Reflect.ownKeys(this._events):[]}},{}],5:[function(e,i,t){"use strict";var r=e("normalice");i.exports=function(i){var t,n={stun:(i||{}).stun||e("./stun.json"),turn:(i||{}).turn||e("./turn.json")},s=(i||{}).stunCount||2,o=(i||{}).turnCount||0;function a(e,i){for(var t,s=[],o=[].concat(n[e]);o.length&&s.length<i;)t=Math.random()*o.length|0,s=s.concat(o.splice(t,1));return s.map(function(i){return"string"==typeof i||i instanceof String?r(e+":"+i):i})}return t=[].concat(a("stun",s)),o&&(t=t.concat(a("turn",o))),t}},{"./stun.json":6,"./turn.json":7,normalice:12}],6:[function(e,i,t){i.exports=["stun.l.google.com:19302","stun1.l.google.com:19302","stun2.l.google.com:19302","stun3.l.google.com:19302","stun4.l.google.com:19302","stun.ekiga.net","stun.ideasip.com","stun.schlund.de","stun.stunprotocol.org:3478","stun.voiparound.com","stun.voipbuster.com","stun.voipstunt.com","stun.voxgratia.org"]},{}],7:[function(e,i,t){i.exports=[]},{}],8:[function(e,i,t){var r,n=e("wildemitter");"undefined"!=typeof window&&(r=window.AudioContext||window.webkitAudioContext);var s=null;i.exports=function(e,i){var t=new n;if(!r)return t;var o,a,c,d=(i=i||{}).smoothing||.1,u=i.interval||50,l=i.threshold,p=i.play,f=i.history||10,m=!0;s=i.audioContext||s||new r,(c=s.createAnalyser()).fftSize=512,c.smoothingTimeConstant=d,a=new Float32Array(c.frequencyBinCount),e.jquery&&(e=e[0]),e instanceof HTMLAudioElement||e instanceof HTMLVideoElement?(o=s.createMediaElementSource(e),void 0===p&&(p=!0),l=l||-50):(o=s.createMediaStreamSource(e),l=l||-50),o.connect(c),p&&c.connect(s.destination),t.speaking=!1,t.suspend=function(){return s.suspend()},t.resume=function(){return s.resume()},Object.defineProperty(t,"state",{get:function(){return s.state}}),s.onstatechange=function(){t.emit("state_change",s.state)},t.setThreshold=function(e){l=e},t.setInterval=function(e){u=e},t.stop=function(){m=!1,t.emit("volume_change",-100,l),t.speaking&&(t.speaking=!1,t.emit("stopped_speaking")),c.disconnect(),o.disconnect()},t.speakingHistory=[];for(var h=0;h<f;h++)t.speakingHistory.push(0);var g=function(){setTimeout(function(){if(m){var e=function(e,i){var t=-1/0;e.getFloatFrequencyData(i);for(var r=4,n=i.length;r<n;r++)i[r]>t&&i[r]<0&&(t=i[r]);return t}(c,a);t.emit("volume_change",e,l);var i=0;if(e>l&&!t.speaking){for(var r=t.speakingHistory.length-3;r<t.speakingHistory.length;r++)i+=t.speakingHistory[r];i>=2&&(t.speaking=!0,t.emit("speaking"))}else if(e<l&&t.speaking){for(r=0;r<t.speakingHistory.length;r++)i+=t.speakingHistory[r];0==i&&(t.speaking=!1,t.emit("stopped_speaking"))}t.speakingHistory.shift(),t.speakingHistory.push(0+(e>l)),g()}},u)};return g(),t}},{wildemitter:25}],9:[function(e,i,t){"function"==typeof Object.create?i.exports=function(e,i){i&&(e.super_=i,e.prototype=Object.create(i.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:i.exports=function(e,i){if(i){e.super_=i;var t=function(){};t.prototype=i.prototype,e.prototype=new t,e.prototype.constructor=e}}},{}],10:[function(e,i,t){},{}],11:[function(e,i,t){!function(e){var t=function(e){return n(!0===e,!1,arguments)};function r(e,i){if("object"!==s(e))return i;for(var t in i)"object"===s(e[t])&&"object"===s(i[t])?e[t]=r(e[t],i[t]):e[t]=i[t];return e}function n(e,i,n){var o=n[0],a=n.length;(e||"object"!==s(o))&&(o={});for(var c=0;c<a;++c){var d=n[c];if("object"===s(d))for(var u in d)if("__proto__"!==u){var l=e?t.clone(d[u]):d[u];o[u]=i?r(o[u],l):l}}return o}function s(e){return{}.toString.call(e).slice(8,-1).toLowerCase()}t.recursive=function(e){return n(!0===e,!0,arguments)},t.clone=function(e){var i,r,n=e,o=s(e);if("array"===o)for(n=[],r=e.length,i=0;i<r;++i)n[i]=t.clone(e[i]);else if("object"===o)for(i in n={},e)n[i]=t.clone(e[i]);return n},e?i.exports=t:window.merge=t}("object"==typeof i&&i&&"object"==typeof i.exports&&i.exports)},{}],12:[function(e,i,t){var r=["stun:","turn:"];i.exports=function(e){var i,t,n=(e||{}).url||e,s={};return"string"==typeof n||n instanceof String?(n=n.trim(),(i=r[r.indexOf(n.slice(0,5))])?(t=(n=n.slice(5)).split("@"),s.username=e.username,s.credential=e.credential,t.length>1&&(n=t[1],t=t[0].split(":"),s.username=t[0],s.credential=(e||{}).credential||t[1]||""),s.url=i+n,s.urls=[s.url],s):e):e}},{}],13:[function(e,i,t){var r=i.exports={v:[{name:"version",reg:/^(\d*)$/}],o:[{name:"origin",reg:/^(\S*) (\d*) (\d*) (\S*) IP(\d) (\S*)/,names:["username","sessionId","sessionVersion","netType","ipVer","address"],format:"%s %s %d %s IP%d %s"}],s:[{name:"name"}],i:[{name:"description"}],u:[{name:"uri"}],e:[{name:"email"}],p:[{name:"phone"}],z:[{name:"timezones"}],r:[{name:"repeats"}],t:[{name:"timing",reg:/^(\d*) (\d*)/,names:["start","stop"],format:"%d %d"}],c:[{name:"connection",reg:/^IN IP(\d) (\S*)/,names:["version","ip"],format:"IN IP%d %s"}],b:[{push:"bandwidth",reg:/^(TIAS|AS|CT|RR|RS):(\d*)/,names:["type","limit"],format:"%s:%s"}],m:[{reg:/^(\w*) (\d*) ([\w\/]*)(?: (.*))?/,names:["type","port","protocol","payloads"],format:"%s %d %s %s"}],a:[{push:"rtp",reg:/^rtpmap:(\d*) ([\w\-]*)(?:\s*\/(\d*)(?:\s*\/(\S*))?)?/,names:["payload","codec","rate","encoding"],format:function(e){return e.encoding?"rtpmap:%d %s/%s/%s":e.rate?"rtpmap:%d %s/%s":"rtpmap:%d %s"}},{push:"fmtp",reg:/^fmtp:(\d*) ([\S| ]*)/,names:["payload","config"],format:"fmtp:%d %s"},{name:"control",reg:/^control:(.*)/,format:"control:%s"},{name:"rtcp",reg:/^rtcp:(\d*)(?: (\S*) IP(\d) (\S*))?/,names:["port","netType","ipVer","address"],format:function(e){return null!=e.address?"rtcp:%d %s IP%d %s":"rtcp:%d"}},{push:"rtcpFbTrrInt",reg:/^rtcp-fb:(\*|\d*) trr-int (\d*)/,names:["payload","value"],format:"rtcp-fb:%d trr-int %d"},{push:"rtcpFb",reg:/^rtcp-fb:(\*|\d*) ([\w-_]*)(?: ([\w-_]*))?/,names:["payload","type","subtype"],format:function(e){return null!=e.subtype?"rtcp-fb:%s %s %s":"rtcp-fb:%s %s"}},{push:"ext",reg:/^extmap:([\w_\/]*) (\S*)(?: (\S*))?/,names:["value","uri","config"],format:function(e){return null!=e.config?"extmap:%s %s %s":"extmap:%s %s"}},{push:"crypto",reg:/^crypto:(\d*) ([\w_]*) (\S*)(?: (\S*))?/,names:["id","suite","config","sessionConfig"],format:function(e){return null!=e.sessionConfig?"crypto:%d %s %s %s":"crypto:%d %s %s"}},{name:"setup",reg:/^setup:(\w*)/,format:"setup:%s"},{name:"mid",reg:/^mid:([^\s]*)/,format:"mid:%s"},{name:"msid",reg:/^msid:(.*)/,format:"msid:%s"},{name:"ptime",reg:/^ptime:(\d*)/,format:"ptime:%d"},{name:"maxptime",reg:/^maxptime:(\d*)/,format:"maxptime:%d"},{name:"direction",reg:/^(sendrecv|recvonly|sendonly|inactive)/},{name:"icelite",reg:/^(ice-lite)/},{name:"iceUfrag",reg:/^ice-ufrag:(\S*)/,format:"ice-ufrag:%s"},{name:"icePwd",reg:/^ice-pwd:(\S*)/,format:"ice-pwd:%s"},{name:"fingerprint",reg:/^fingerprint:(\S*) (\S*)/,names:["type","hash"],format:"fingerprint:%s %s"},{push:"candidates",reg:/^candidate:(\S*) (\d*) (\S*) (\d*) (\S*) (\d*) typ (\S*)(?: raddr (\S*) rport (\d*))?(?: tcptype (\S*))?(?: generation (\d*))?/,names:["foundation","component","transport","priority","ip","port","type","raddr","rport","tcptype","generation"],format:function(e){var i="candidate:%s %d %s %d %s %d typ %s";return i+=null!=e.raddr?" raddr %s rport %d":"%v%v",i+=null!=e.tcptype?" tcptype %s":"%v",null!=e.generation&&(i+=" generation %d"),i}},{name:"endOfCandidates",reg:/^(end-of-candidates)/},{name:"remoteCandidates",reg:/^remote-candidates:(.*)/,format:"remote-candidates:%s"},{name:"iceOptions",reg:/^ice-options:(\S*)/,format:"ice-options:%s"},{push:"ssrcs",reg:/^ssrc:(\d*) ([\w_]*):(.*)/,names:["id","attribute","value"],format:"ssrc:%d %s:%s"},{push:"ssrcGroups",reg:/^ssrc-group:(\w*) (.*)/,names:["semantics","ssrcs"],format:"ssrc-group:%s %s"},{name:"msidSemantic",reg:/^msid-semantic:\s?(\w*) (\S*)/,names:["semantic","token"],format:"msid-semantic: %s %s"},{push:"groups",reg:/^group:(\w*) (.*)/,names:["type","mids"],format:"group:%s %s"},{name:"rtcpMux",reg:/^(rtcp-mux)/},{name:"rtcpRsize",reg:/^(rtcp-rsize)/},{push:"invalid",names:["value"]}]};Object.keys(r).forEach(function(e){r[e].forEach(function(e){e.reg||(e.reg=/(.*)/),e.format||(e.format="%s")})})},{}],14:[function(e,i,t){var r=e("./parser"),n=e("./writer");t.write=n,t.parse=r.parse,t.parseFmtpConfig=r.parseFmtpConfig,t.parsePayloads=r.parsePayloads,t.parseRemoteCandidates=r.parseRemoteCandidates},{"./parser":15,"./writer":16}],15:[function(e,i,t){var r=function(e){return String(Number(e))===e?Number(e):e},n=function(e,i,t){var n=e.name&&e.names;e.push&&!i[e.push]?i[e.push]=[]:n&&!i[e.name]&&(i[e.name]={});var s=e.push?{}:n?i[e.name]:i;!function(e,i,t,n){if(n&&!t)i[n]=r(e[1]);else for(var s=0;s<t.length;s+=1)null!=e[s+1]&&(i[t[s]]=r(e[s+1]))}(t.match(e.reg),s,e.names,e.name),e.push&&i[e.push].push(s)},s=e("./grammar"),o=RegExp.prototype.test.bind(/^([a-z])=(.*)/);t.parse=function(e){var i={},t=[],r=i;return e.split(/(\r\n|\r|\n)/).filter(o).forEach(function(e){var i=e[0],o=e.slice(2);"m"===i&&(t.push({rtp:[],fmtp:[]}),r=t[t.length-1]);for(var a=0;a<(s[i]||[]).length;a+=1){var c=s[i][a];if(c.reg.test(o))return n(c,r,o)}}),i.media=t,i};var a=function(e,i){var t=i.split("=");return 2===t.length&&(e[t[0]]=r(t[1])),e};t.parseFmtpConfig=function(e){return e.split(/\;\s?/).reduce(a,{})},t.parsePayloads=function(e){return e.split(" ").map(Number)},t.parseRemoteCandidates=function(e){for(var i=[],t=e.split(" ").map(r),n=0;n<t.length;n+=3)i.push({component:t[n],ip:t[n+1],port:t[n+2]});return i}},{"./grammar":13}],16:[function(e,i,t){var r=e("./grammar"),n=/%[sdv%]/g,s=function(e,i,t){var r=[e+"="+(i.format instanceof Function?i.format(i.push?t:t[i.name]):i.format)];if(i.names)for(var s=0;s<i.names.length;s+=1){var o=i.names[s];i.name?r.push(t[i.name][o]):r.push(t[i.names[s]])}else r.push(t[i.name]);return function(e){var i=1,t=arguments,r=t.length;return e.replace(n,function(e){if(i>=r)return e;var n=t[i];switch(i+=1,e){case"%%":return"%";case"%s":return String(n);case"%d":return Number(n);case"%v":return""}})}.apply(null,r)},o=["v","o","s","i","u","e","p","c","b","t","r","z","a"],a=["i","c","b","a"];i.exports=function(e,i){i=i||{},null==e.version&&(e.version=0),null==e.name&&(e.name=" "),e.media.forEach(function(e){null==e.payloads&&(e.payloads="")});var t=i.outerOrder||o,n=i.innerOrder||a,c=[];return t.forEach(function(i){r[i].forEach(function(t){t.name in e&&null!=e[t.name]?c.push(s(i,t,e)):t.push in e&&null!=e[t.push]&&e[t.push].forEach(function(e){c.push(s(i,t,e))})})}),e.media.forEach(function(e){c.push(s("m",r.m[0],e)),n.forEach(function(i){r[i].forEach(function(t){t.name in e&&null!=e[t.name]?c.push(s(i,t,e)):t.push in e&&null!=e[t.push]&&e[t.push].forEach(function(e){c.push(s(i,t,e))})})})}),c.join("\r\n")+"\r\n"}},{"./grammar":13}],17:[function(e,i,t){i.exports=function e(i){if(!i)return!1;if(this.length!=i.length)return!1;for(var t=0,r=this.length;t<r;t++)if(this[t]instanceof Array&&i[t]instanceof Array){if(!e.apply(this[t],[i[t]]))return!1}else if(this[t]!=i[t])return!1;return!0}},{}],18:[function(e,i,t){t.Interop=e("./interop")},{"./interop":19}],19:[function(e,i,t){"use strict";var r=e("./transform"),n=e("./array-equals");function s(){this.cache={mlB2UMap:{},mlU2BMap:{}}}i.exports=s,s.prototype.candidateToUnifiedPlan=function(e){var i=new RTCIceCandidate(e);return i.sdpMLineIndex=this.cache.mlB2UMap[i.sdpMLineIndex],i},s.prototype.candidateToPlanB=function(e){var i=new RTCIceCandidate(e);if(0===i.sdpMid.indexOf("audio"))i.sdpMid="audio";else{if(0!==i.sdpMid.indexOf("video"))throw new Error("candidate with "+i.sdpMid+" not allowed");i.sdpMid="video"}return i.sdpMLineIndex=this.cache.mlU2BMap[i.sdpMLineIndex],i},s.prototype.getFirstSendingIndexFromAnswer=function(e){if(!this.cache.answer)return null;var i=r.parse(this.cache.answer);if(i&&i.media&&Array.isArray(i.media))for(var t=0;t<i.media.length;t++)if(i.media[t].type==e&&(!i.media[t].direction||"sendrecv"===i.media[t].direction||"sendonly"===i.media[t].direction))return t;return null},s.prototype.toPlanB=function(e){var i=this;if("object"!=typeof e||null===e||"string"!=typeof e.sdp)return console.warn("An empty description was passed as an argument."),e;var t=r.parse(e.sdp);if(void 0===t.media||!Array.isArray(t.media)||0===t.media.length)return console.warn("The description has no media."),e;if(t.media.length<=3&&t.media.every(function(e){return-1!==["video","audio","data"].indexOf(e.mid)}))return console.warn("This description does not look like Unified Plan."),e;for(var n=e.sdp,s=!1,o=0;o<t.media.length;o++){t.media[o].rtp.forEach(function(e){if("NULL"===e.codec){s=!0;var t=r.parse(i.cache.offer);e.codec=t.media[o].rtp[0].codec}})}s&&(n=r.write(t)),this.cache[e.type]=n;var a=t.media;t.media=[];var c={},d=[];a.forEach(function(e){if(("string"!=typeof e.rtcpMux||"rtcp-mux"!==e.rtcpMux)&&"inactive"!==e.direction)throw new Error("Cannot convert to Plan B because m-lines without the rtcp-mux attribute were found.");if(void 0!==c[e.type]&&"inactive"!==c[e.type].direction||(c[e.type]=e),e.protocol!=c[e.type].protocol)throw new Error("Cannot convert to Plan B because m-lines have different protocols and this library does not have support for that");if(e.payloads!=c[e.type].payloads)throw new Error("Cannot convert to Plan B because m-lines have different payloads and this library does not have support for that")}),a.forEach(function(e){if("application"===e.type)return t.media.push(e),void d.push(e.mid);"object"==typeof e.sources&&Object.keys(e.sources).forEach(function(i){"object"!=typeof c[e.type].sources&&(c[e.type].sources={}),c[e.type].sources[i]=e.sources[i],void 0!==e.msid&&(c[e.type].sources[i].msid=e.msid)}),void 0!==e.ssrcGroups&&Array.isArray(e.ssrcGroups)&&(void 0!==c[e.type].ssrcGroups&&Array.isArray(c[e.type].ssrcGroups)||(c[e.type].ssrcGroups=[]),c[e.type].ssrcGroups=c[e.type].ssrcGroups.concat(e.ssrcGroups)),c[e.type]===e&&(e.mid=e.type,delete e.bundleOnly,delete e.msid,e.type==a[0].type?(d.unshift(e.type),t.media.unshift(e)):(d.push(e.type),t.media.push(e)))}),void 0!==t.groups&&t.groups.some(function(e){if("BUNDLE"===e.type)return e.mids=d.join(" "),!0}),t.msidSemantic={semantic:"WMS",token:"*"};var u=r.write(t);return new RTCSessionDescription({type:e.type,sdp:u})},s.prototype.toUnifiedPlan=function(e){var i=this;if("object"!=typeof e||null===e||"string"!=typeof e.sdp)return console.warn("An empty description was passed as an argument."),e;var t=r.parse(e.sdp);if(void 0===t.media||!Array.isArray(t.media)||0===t.media.length)return console.warn("The description has no media."),e;if(t.media.length>3||!t.media.every(function(e){return-1!==["video","audio","data"].indexOf(e.mid)}))return console.warn("This description does not look like Plan B."),e;var s=[];t.media.forEach(function(e){s.push(e.mid)});var o,a,c=!1;if(void 0!==t.groups&&Array.isArray(t.groups)&&(c=t.groups.every(function(e){return"BUNDLE"!==e.type||n.apply(e.mids.sort(),[s.sort()])})),!c){var d=!1;if(t.media.forEach(function(e){"inactive"!==e.direction&&(d=!0)}),d)throw new Error("Cannot convert to Unified Plan because m-lines that are not bundled were found.")}if("answer"===e.type)o="offer";else{if("offer"!==e.type)throw new Error("Type '"+e.type+"' not supported.");o="answer"}void 0!==this.cache[o]&&(a=r.parse(this.cache[o]));var u,l,p,f,m={audio:{},video:{}},h={},g=0,v=0,w={},y={},b={},S={};if(t.media.forEach(function(t){if(("string"!=typeof t.rtcpMux||"rtcp-mux"!==t.rtcpMux)&&"inactive"!==t.direction)throw new Error("Cannot convert to Unified Plan because m-lines without the rtcp-mux attribute were found.");if("application"!==t.type){var r=t.sources,n=t.ssrcGroups,s=t.port;if(void 0!==t.candidates&&(u=void 0!==u?u.concat(t.candidates):t.candidates),void 0!==l&&void 0!==t.iceUfrag&&l!=t.iceUfrag)throw new Error("Only BUNDLE supported, iceUfrag must be the same for all m-lines.\n\tLast iceUfrag: "+l+"\n\tNew iceUfrag: "+t.iceUfrag);if(void 0!==t.iceUfrag&&(l=t.iceUfrag),void 0!==p&&void 0!==t.icePwd&&p!=t.icePwd)throw new Error("Only BUNDLE supported, icePwd must be the same for all m-lines.\n\tLast icePwd: "+p+"\n\tNew icePwd: "+t.icePwd);if(void 0!==t.icePwd&&(p=t.icePwd),void 0!==f&&void 0!==t.fingerprint&&(f.type!=t.fingerprint.type||f.hash!=t.fingerprint.hash))throw new Error("Only BUNDLE supported, fingerprint must be the same for all m-lines.\n\tLast fingerprint: "+JSON.stringify(f)+"\n\tNew fingerprint: "+JSON.stringify(t.fingerprint));void 0!==t.fingerprint&&(f=t.fingerprint),y[t.type]=t.payloads,b[t.type]=t.rtcpFb,S[t.type]=t.rtp;var o={};void 0!==n&&Array.isArray(n)&&n.forEach(function(e){void 0!==e.ssrcs&&Array.isArray(e.ssrcs)&&e.ssrcs.forEach(function(i){void 0===o[i]&&(o[i]=[]),o[i].push(e)})});var c={};if("object"==typeof r)delete t.sources,delete t.ssrcGroups,delete t.candidates,delete t.iceUfrag,delete t.icePwd,delete t.fingerprint,delete t.port,delete t.mid,Object.keys(r).forEach(function(n){var d;"offer"!==e.type||r[n].msid?(void 0!==o[n]&&Array.isArray(o[n])&&o[n].some(function(e){return e.ssrcs.some(function(e){if("object"==typeof c[e])return d=c[e],!0})}),"object"==typeof d?(d.sources[n]=r[n],delete r[n].msid):(d=Object.create(t),c[n]=d,void 0!==r[n].msid&&(d.msid=r[n].msid,delete r[n].msid),d.sources={},d.sources[n]=r[n],d.ssrcGroups=o[n],void 0!==a&&void 0!==a.media&&Array.isArray(a.media)&&a.media.forEach(function(e){"object"==typeof e.sources&&Object.keys(e.sources).forEach(function(i){i===n&&(d.mid=e.mid)})}),void 0===d.mid&&(d.mid=[t.type,"-",n].join("")),d.candidates=u,d.iceUfrag=l,d.icePwd=p,d.fingerprint=f,d.port=s,h[d.mid]=d,w[v]=d.sources,i.cache.mlU2BMap[v]=g,void 0===i.cache.mlB2UMap[g]&&(i.cache.mlB2UMap[g]=v),v++)):m[t.type][n]=r[n]});else{var d=t;d.candidates=u,d.iceUfrag=l,d.icePwd=p,d.fingerprint=f,d.port=s,h[d.mid]=d,i.cache.mlU2BMap[v]=g,void 0===i.cache.mlB2UMap[g]&&(i.cache.mlB2UMap[g]=v)}g++}else h[t.mid]=t}),t.media=[],s=[],"answer"===e.type)for(var x=0;x<a.media.length;x++){var k=a.media[x];delete k.msid,delete k.sources,delete k.ssrcGroups,void 0===w[x]?k.direction&&"sendrecv"!==k.direction?"sendonly"===k.direction&&(k.direction="inactive"):k.direction="recvonly":k.direction&&"sendrecv"!==k.direction?"recvonly"===k.direction&&(k.direction="sendonly"):k.direction="sendrecv",k.sources=w[x],k.candidates=u,k.iceUfrag=l,k.icePwd=p,k.fingerprint=f,k.rtp=S[k.type],k.payloads=y[k.type],k.rtcpFb=b[k.type],t.media.push(k),"string"==typeof k.mid&&s.push(k.mid)}else void 0!==a&&void 0!==a.media&&Array.isArray(a.media)&&a.media.forEach(function(e){s.push(e.mid),void 0!==h[e.mid]?t.media.push(h[e.mid]):(delete e.msid,delete e.sources,delete e.ssrcGroups,e.direction&&"sendrecv"!==e.direction||(e.direction="sendonly"),e.direction&&"recvonly"!==e.direction||(e.direction="inactive"),function(e){void 0!==e.setup&&("active"===e.setup?e.setup="passive":"passive"===e.setup&&(e.setup="active"))}(e),t.media.push(e))}),Object.keys(h).forEach(function(e){if(-1===s.indexOf(e))if(s.push(e),"recvonly"===h[e].direction){var i=!1;t.media.some(function(t){if(("sendrecv"===t.direction||"sendonly"===t.direction)&&t.type===h[e].type)return Object.keys(h[e].sources).forEach(function(i){t.sources[i]=h[e].sources[i]}),i=!0,!0}),i||t.media.push(h[e])}else t.media.push(h[e])});["audio","video"].forEach(function(e){if(t&&t.media&&Array.isArray(t.media)){var r=null;if(Object.keys(m[e]).length>0&&null===(r=i.getFirstSendingIndexFromAnswer(e)))for(var n=0;n<t.media.length;n++)if(t.media[n].type===e){r=n;break}if(r&&t.media.length>r){var s=t.media[r];Object.keys(m[e]).forEach(function(i){s.sources&&s.sources[i]&&console.warn("Replacing an existing SSRC."),s.sources||(s.sources={}),s.sources[i]=m[e][i]})}}}),void 0!==t.groups&&t.groups.some(function(e){if("BUNDLE"===e.type)return e.mids=s.join(" "),!0}),t.msidSemantic={semantic:"WMS",token:"*"};var E=r.write(t);return this.cache[e.type]=E,new RTCSessionDescription({type:e.type,sdp:E})}},{"./array-equals":17,"./transform":20}],20:[function(e,i,t){var r=e("sdp-transform");t.write=function(e,i){return void 0!==e&&void 0!==e.media&&Array.isArray(e.media)&&e.media.forEach(function(e){void 0!==e.sources&&0!==Object.keys(e.sources).length&&(e.ssrcs=[],Object.keys(e.sources).forEach(function(i){var t=e.sources[i];Object.keys(t).forEach(function(r){e.ssrcs.push({id:i,attribute:r,value:t[r]})})}),delete e.sources),void 0!==e.ssrcGroups&&Array.isArray(e.ssrcGroups)&&e.ssrcGroups.forEach(function(e){void 0!==e.ssrcs&&Array.isArray(e.ssrcs)&&(e.ssrcs=e.ssrcs.join(" "))})}),void 0!==e&&void 0!==e.groups&&Array.isArray(e.groups)&&e.groups.forEach(function(e){void 0!==e.mids&&Array.isArray(e.mids)&&(e.mids=e.mids.join(" "))}),r.write(e,i)},t.parse=function(e){var i=r.parse(e);return void 0!==i&&void 0!==i.media&&Array.isArray(i.media)&&i.media.forEach(function(e){void 0!==e.ssrcs&&Array.isArray(e.ssrcs)&&(e.sources={},e.ssrcs.forEach(function(i){e.sources[i.id]||(e.sources[i.id]={}),e.sources[i.id][i.attribute]=i.value}),delete e.ssrcs),void 0!==e.ssrcGroups&&Array.isArray(e.ssrcGroups)&&e.ssrcGroups.forEach(function(e){"string"==typeof e.ssrcs&&(e.ssrcs=e.ssrcs.split(" "))})}),void 0!==i&&void 0!==i.groups&&Array.isArray(i.groups)&&i.groups.forEach(function(e){"string"==typeof e.mids&&(e.mids=e.mids.split(" "))}),i}},{"sdp-transform":14}],21:[function(e,i,t){!function(e,r){"use strict";var n="model",s="name",o="type",a="vendor",c="version",d="mobile",u="tablet",l="smarttv",p={extend:function(e,i){var t={};for(var r in e)i[r]&&i[r].length%2==0?t[r]=i[r].concat(e[r]):t[r]=e[r];return t},has:function(e,i){return"string"==typeof e&&-1!==i.toLowerCase().indexOf(e.toLowerCase())},lowerize:function(e){return e.toLowerCase()},major:function(e){return"string"==typeof e?e.replace(/[^\d\.]/g,"").split(".")[0]:void 0},trim:function(e){return e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}},f={rgx:function(e,i){for(var t,r,n,s,o,a,c=0;c<i.length&&!o;){var d=i[c],u=i[c+1];for(t=r=0;t<d.length&&!o;)if(o=d[t++].exec(e))for(n=0;n<u.length;n++)a=o[++r],"object"==typeof(s=u[n])&&s.length>0?2==s.length?"function"==typeof s[1]?this[s[0]]=s[1].call(this,a):this[s[0]]=s[1]:3==s.length?"function"!=typeof s[1]||s[1].exec&&s[1].test?this[s[0]]=a?a.replace(s[1],s[2]):void 0:this[s[0]]=a?s[1].call(this,a,s[2]):void 0:4==s.length&&(this[s[0]]=a?s[3].call(this,a.replace(s[1],s[2])):void 0):this[s]=a||void 0;c+=2}},str:function(e,i){for(var t in i)if("object"==typeof i[t]&&i[t].length>0){for(var r=0;r<i[t].length;r++)if(p.has(i[t][r],e))return"?"===t?void 0:t}else if(p.has(i[t],e))return"?"===t?void 0:t;return e}},m={browser:{oldsafari:{version:{"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"}}},device:{amazon:{model:{"Fire Phone":["SD","KF"]}},sprint:{model:{"Evo Shift 4G":"7373KT"},vendor:{HTC:"APA",Sprint:"Sprint"}}},os:{windows:{version:{ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2000:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"}}}},h={browser:[[/(opera\smini)\/([\w\.-]+)/i,/(opera\s[mobiletab]{3,6}).+version\/([\w\.-]+)/i,/(opera).+version\/([\w\.]+)/i,/(opera)[\/\s]+([\w\.]+)/i],[s,c],[/(opios)[\/\s]+([\w\.]+)/i],[[s,"Opera Mini"],c],[/\s(opr)\/([\w\.]+)/i],[[s,"Opera"],c],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/\s]?([\w\.]*)/i,/(avant\s|iemobile|slim)(?:browser)?[\/\s]?([\w\.]*)/i,/(bidubrowser|baidubrowser)[\/\s]?([\w\.]+)/i,/(?:ms|\()(ie)\s([\w\.]+)/i,/(rekonq)\/([\w\.]*)/i,/(chromium|flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser|quark|qupzilla|falkon)\/([\w\.-]+)/i],[s,c],[/(konqueror)\/([\w\.]+)/i],[[s,"Konqueror"],c],[/(trident).+rv[:\s]([\w\.]{1,9}).+like\sgecko/i],[[s,"IE"],c],[/(edge|edgios|edga|edg)\/((\d+)?[\w\.]+)/i],[[s,"Edge"],c],[/(yabrowser)\/([\w\.]+)/i],[[s,"Yandex"],c],[/(Avast)\/([\w\.]+)/i],[[s,"Avast Secure Browser"],c],[/(AVG)\/([\w\.]+)/i],[[s,"AVG Secure Browser"],c],[/(puffin)\/([\w\.]+)/i],[[s,"Puffin"],c],[/(focus)\/([\w\.]+)/i],[[s,"Firefox Focus"],c],[/(opt)\/([\w\.]+)/i],[[s,"Opera Touch"],c],[/((?:[\s\/])uc?\s?browser|(?:juc.+)ucweb)[\/\s]?([\w\.]+)/i],[[s,"UCBrowser"],c],[/(comodo_dragon)\/([\w\.]+)/i],[[s,/_/g," "],c],[/(windowswechat qbcore)\/([\w\.]+)/i],[[s,"WeChat(Win) Desktop"],c],[/(micromessenger)\/([\w\.]+)/i],[[s,"WeChat"],c],[/(brave)\/([\w\.]+)/i],[[s,"Brave"],c],[/(whale)\/([\w\.]+)/i],[[s,"Whale"],c],[/(qqbrowserlite)\/([\w\.]+)/i],[s,c],[/(QQ)\/([\d\.]+)/i],[s,c],[/m?(qqbrowser)[\/\s]?([\w\.]+)/i],[s,c],[/(baiduboxapp)[\/\s]?([\w\.]+)/i],[s,c],[/(2345Explorer)[\/\s]?([\w\.]+)/i],[s,c],[/(MetaSr)[\/\s]?([\w\.]+)/i],[s],[/(LBBROWSER)/i],[s],[/xiaomi\/miuibrowser\/([\w\.]+)/i],[c,[s,"MIUI Browser"]],[/;fbav\/([\w\.]+);/i],[c,[s,"Facebook"]],[/FBAN\/FBIOS|FB_IAB\/FB4A/i],[[s,"Facebook"]],[/safari\s(line)\/([\w\.]+)/i,/android.+(line)\/([\w\.]+)\/iab/i],[s,c],[/headlesschrome(?:\/([\w\.]+)|\s)/i],[c,[s,"Chrome Headless"]],[/\swv\).+(chrome)\/([\w\.]+)/i],[[s,/(.+)/,"$1 WebView"],c],[/((?:oculus|samsung)browser)\/([\w\.]+)/i],[[s,/(.+(?:g|us))(.+)/,"$1 $2"],c],[/android.+version\/([\w\.]+)\s+(?:mobile\s?safari|safari)*/i],[c,[s,"Android Browser"]],[/(coc_coc_browser)\/([\w\.]+)/i],[[s,"Coc Coc"],c],[/(sailfishbrowser)\/([\w\.]+)/i],[[s,"Sailfish Browser"],c],[/(chrome|omniweb|arora|[tizenoka]{5}\s?browser)\/v?([\w\.]+)/i],[s,c],[/(dolfin)\/([\w\.]+)/i],[[s,"Dolphin"],c],[/(qihu|qhbrowser|qihoobrowser|360browser)/i],[[s,"360 Browser"]],[/((?:android.+)crmo|crios)\/([\w\.]+)/i],[[s,"Chrome"],c],[/(coast)\/([\w\.]+)/i],[[s,"Opera Coast"],c],[/fxios\/([\w\.-]+)/i],[c,[s,"Firefox"]],[/version\/([\w\.]+)\s.*mobile\/\w+\s(safari)/i],[c,[s,"Mobile Safari"]],[/version\/([\w\.]+)\s.*(mobile\s?safari|safari)/i],[c,s],[/webkit.+?(gsa)\/([\w\.]+)\s.*(mobile\s?safari|safari)(\/[\w\.]+)/i],[[s,"GSA"],c],[/webkit.+?(mobile\s?safari|safari)(\/[\w\.]+)/i],[s,[c,f.str,m.browser.oldsafari.version]],[/(webkit|khtml)\/([\w\.]+)/i],[s,c],[/(navigator|netscape)\/([\w\.-]+)/i],[[s,"Netscape"],c],[/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo\sbrowser|minimo|conkeror)[\/\s]?([\w\.\+]+)/i,/(firefox|seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([\w\.-]+)$/i,/(firefox)\/([\w\.]+)\s[\w\s\-]+\/[\w\.]+$/i,/(mozilla)\/([\w\.]+)\s.+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir)[\/\s]?([\w\.]+)/i,/(links)\s\(([\w\.]+)/i,/(gobrowser)\/?([\w\.]*)/i,/(ice\s?browser)\/v?([\w\._]+)/i,/(mosaic)[\/\s]([\w\.]+)/i],[s,c]],cpu:[[/(?:(amd|x(?:(?:86|64)[_-])?|wow|win)64)[;\)]/i],[["architecture","amd64"]],[/(ia32(?=;))/i],[["architecture",p.lowerize]],[/((?:i[346]|x)86)[;\)]/i],[["architecture","ia32"]],[/windows\s(ce|mobile);\sppc;/i],[["architecture","arm"]],[/((?:ppc|powerpc)(?:64)?)(?:\smac|;|\))/i],[["architecture",/ower/,"",p.lowerize]],[/(sun4\w)[;\)]/i],[["architecture","sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|arm(?:64|(?=v\d+[;l]))|(?=atmel\s)avr|(?:irix|mips|sparc)(?:64)?(?=;)|pa-risc)/i],[["architecture",p.lowerize]]],device:[[/\((ipad|playbook);[\w\s\),;-]+(rim|apple)/i],[n,a,[o,u]],[/applecoremedia\/[\w\.]+ \((ipad)/],[n,[a,"Apple"],[o,u]],[/(apple\s{0,1}tv)/i],[[n,"Apple TV"],[a,"Apple"],[o,l]],[/(archos)\s(gamepad2?)/i,/(hp).+(touchpad)/i,/(hp).+(tablet)/i,/(kindle)\/([\w\.]+)/i,/\s(nook)[\w\s]+build\/(\w+)/i,/(dell)\s(strea[kpr\s\d]*[\dko])/i],[a,n,[o,u]],[/(kf[A-z]+)(\sbuild\/|\)).+silk\//i],[n,[a,"Amazon"],[o,u]],[/(sd|kf)[0349hijorstuw]+(\sbuild\/|\)).+silk\//i],[[n,f.str,m.device.amazon.model],[a,"Amazon"],[o,d]],[/android.+aft([\w])(\sbuild\/|\))/i],[n,[a,"Amazon"],[o,l]],[/\((ip[honed|\s\w*]+);.+(apple)/i],[n,a,[o,d]],[/\((ip[honed|\s\w*]+);/i],[n,[a,"Apple"],[o,d]],[/(blackberry)[\s-]?(\w+)/i,/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron)[\s_-]?([\w-]*)/i,/(hp)\s([\w\s]+\w)/i,/(asus)-?(\w+)/i],[a,n,[o,d]],[/\(bb10;\s(\w+)/i],[n,[a,"BlackBerry"],[o,d]],[/android.+(transfo[prime\s]{4,10}\s\w+|eeepc|slider\s\w+|nexus 7|padfone|p00c)/i],[n,[a,"Asus"],[o,u]],[/(sony)\s(tablet\s[ps])\sbuild\//i,/(sony)?(?:sgp.+)\sbuild\//i],[[a,"Sony"],[n,"Xperia Tablet"],[o,u]],[/android.+\s([c-g]\d{4}|so[-l]\w+)(?=\sbuild\/|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[n,[a,"Sony"],[o,d]],[/\s(ouya)\s/i,/(nintendo)\s([wids3u]+)/i],[a,n,[o,"console"]],[/android.+;\s(shield)\sbuild/i],[n,[a,"Nvidia"],[o,"console"]],[/(playstation\s[34portablevi]+)/i],[n,[a,"Sony"],[o,"console"]],[/(sprint\s(\w+))/i],[[a,f.str,m.device.sprint.vendor],[n,f.str,m.device.sprint.model],[o,d]],[/(htc)[;_\s-]{1,2}([\w\s]+(?=\)|\sbuild)|\w+)/i,/(zte)-(\w*)/i,/(alcatel|geeksphone|nexian|panasonic|(?=;\s)sony)[_\s-]?([\w-]*)/i],[a,[n,/_/g," "],[o,d]],[/(nexus\s9)/i],[n,[a,"HTC"],[o,u]],[/d\/huawei([\w\s-]+)[;\)]/i,/android.+\s(nexus\s6p|vog-[at]?l\d\d|ane-[at]?l[x\d]\d|eml-a?l\d\da?|lya-[at]?l\d[\dc]|clt-a?l\d\di?)/i],[n,[a,"Huawei"],[o,d]],[/android.+(bah2?-a?[lw]\d{2})/i],[n,[a,"Huawei"],[o,u]],[/(microsoft);\s(lumia[\s\w]+)/i],[a,n,[o,d]],[/[\s\(;](xbox(?:\sone)?)[\s\);]/i],[n,[a,"Microsoft"],[o,"console"]],[/(kin\.[onetw]{3})/i],[[n,/\./g," "],[a,"Microsoft"],[o,d]],[/\s(milestone|droid(?:[2-4x]|\s(?:bionic|x2|pro|razr))?:?(\s4g)?)[\w\s]+build\//i,/mot[\s-]?(\w*)/i,/(XT\d{3,4}) build\//i,/(nexus\s6)/i],[n,[a,"Motorola"],[o,d]],[/android.+\s(mz60\d|xoom[\s2]{0,2})\sbuild\//i],[n,[a,"Motorola"],[o,u]],[/hbbtv\/\d+\.\d+\.\d+\s+\([\w\s]*;\s*(\w[^;]*);([^;]*)/i],[[a,p.trim],[n,p.trim],[o,l]],[/hbbtv.+maple;(\d+)/i],[[n,/^/,"SmartTV"],[a,"Samsung"],[o,l]],[/\(dtv[\);].+(aquos)/i],[n,[a,"Sharp"],[o,l]],[/android.+((sch-i[89]0\d|shw-m380s|SM-P605|SM-P610|SM-P587|gt-p\d{4}|gt-n\d+|sgh-t8[56]9|nexus 10))/i,/((SM-T\w+))/i],[[a,"Samsung"],n,[o,u]],[/smart-tv.+(samsung)/i],[a,[o,l],n],[/((s[cgp]h-\w+|gt-\w+|galaxy\snexus|sm-\w[\w\d]+))/i,/(sam[sung]*)[\s-]*(\w+-?[\w-]*)/i,/sec-((sgh\w+))/i],[[a,"Samsung"],n,[o,d]],[/sie-(\w*)/i],[n,[a,"Siemens"],[o,d]],[/(maemo|nokia).*(n900|lumia\s\d+)/i,/(nokia)[\s_-]?([\w-]*)/i],[[a,"Nokia"],n,[o,d]],[/android[x\d\.\s;]+\s([ab][1-7]\-?[0178a]\d\d?)/i],[n,[a,"Acer"],[o,u]],[/android.+([vl]k\-?\d{3})\s+build/i],[n,[a,"LG"],[o,u]],[/android\s3\.[\s\w;-]{10}(lg?)-([06cv9]{3,4})/i],[[a,"LG"],n,[o,u]],[/linux;\snetcast.+smarttv/i,/lg\snetcast\.tv-201\d/i],[[a,"LG"],n,[o,l]],[/(nexus\s[45])/i,/lg[e;\s\/-]+(\w*)/i,/android.+lg(\-?[\d\w]+)\s+build/i],[n,[a,"LG"],[o,d]],[/(lenovo)\s?(s(?:5000|6000)(?:[\w-]+)|tab(?:[\s\w]+))/i],[a,n,[o,u]],[/android.+(ideatab[a-z0-9\-\s]+)/i],[n,[a,"Lenovo"],[o,u]],[/(lenovo)[_\s-]?([\w-]+)/i],[a,n,[o,d]],[/linux;.+((jolla));/i],[a,n,[o,d]],[/((pebble))app\/[\d\.]+\s/i],[a,n,[o,"wearable"]],[/android.+;\s(oppo)\s?([\w\s]+)\sbuild/i],[a,n,[o,d]],[/crkey/i],[[n,"Chromecast"],[a,"Google"],[o,l]],[/android.+;\s(glass)\s\d/i],[n,[a,"Google"],[o,"wearable"]],[/android.+;\s(pixel c)[\s)]/i],[n,[a,"Google"],[o,u]],[/android.+;\s(pixel( [2-9]a?)?( xl)?)[\s)]/i],[n,[a,"Google"],[o,d]],[/android.+;\s(\w+)\s+build\/hm\1/i,/android.+(hm[\s\-_]?note?[\s_]?(?:\d\w)?)\sbuild/i,/android.+(redmi[\s\-_]?(?:note|k)?(?:[\s_]?[\w\s]+))(?:\sbuild|\))/i,/android.+(mi[\s\-_]?(?:a\d|one|one[\s_]plus|note lte)?[\s_]?(?:\d?\w?)[\s_]?(?:plus)?)\sbuild/i],[[n,/_/g," "],[a,"Xiaomi"],[o,d]],[/android.+(mi[\s\-_]?(?:pad)(?:[\s_]?[\w\s]+))(?:\sbuild|\))/i],[[n,/_/g," "],[a,"Xiaomi"],[o,u]],[/android.+;\s(m[1-5]\snote)\sbuild/i],[n,[a,"Meizu"],[o,d]],[/(mz)-([\w-]{2,})/i],[[a,"Meizu"],n,[o,d]],[/android.+a000(1)\s+build/i,/android.+oneplus\s(a\d{4})[\s)]/i],[n,[a,"OnePlus"],[o,d]],[/android.+[;\/]\s*(RCT[\d\w]+)\s+build/i],[n,[a,"RCA"],[o,u]],[/android.+[;\/\s](Venue[\d\s]{2,7})\s+build/i],[n,[a,"Dell"],[o,u]],[/android.+[;\/]\s*(Q[T|M][\d\w]+)\s+build/i],[n,[a,"Verizon"],[o,u]],[/android.+[;\/]\s+(Barnes[&\s]+Noble\s+|BN[RT])(\S(?:.*\S)?)\s+build/i],[[a,"Barnes & Noble"],n,[o,u]],[/android.+[;\/]\s+(TM\d{3}.*\b)\s+build/i],[n,[a,"NuVision"],[o,u]],[/android.+;\s(k88)\sbuild/i],[n,[a,"ZTE"],[o,u]],[/android.+[;\/]\s*(gen\d{3})\s+build.*49h/i],[n,[a,"Swiss"],[o,d]],[/android.+[;\/]\s*(zur\d{3})\s+build/i],[n,[a,"Swiss"],[o,u]],[/android.+[;\/]\s*((Zeki)?TB.*\b)\s+build/i],[n,[a,"Zeki"],[o,u]],[/(android).+[;\/]\s+([YR]\d{2})\s+build/i,/android.+[;\/]\s+(Dragon[\-\s]+Touch\s+|DT)(\w{5})\sbuild/i],[[a,"Dragon Touch"],n,[o,u]],[/android.+[;\/]\s*(NS-?\w{0,9})\sbuild/i],[n,[a,"Insignia"],[o,u]],[/android.+[;\/]\s*((NX|Next)-?\w{0,9})\s+build/i],[n,[a,"NextBook"],[o,u]],[/android.+[;\/]\s*(Xtreme\_)?(V(1[045]|2[015]|30|40|60|7[05]|90))\s+build/i],[[a,"Voice"],n,[o,d]],[/android.+[;\/]\s*(LVTEL\-)?(V1[12])\s+build/i],[[a,"LvTel"],n,[o,d]],[/android.+;\s(PH-1)\s/i],[n,[a,"Essential"],[o,d]],[/android.+[;\/]\s*(V(100MD|700NA|7011|917G).*\b)\s+build/i],[n,[a,"Envizen"],[o,u]],[/android.+[;\/]\s*(Le[\s\-]+Pan)[\s\-]+(\w{1,9})\s+build/i],[a,n,[o,u]],[/android.+[;\/]\s*(Trio[\s\w\-\.]+)\s+build/i],[n,[a,"MachSpeed"],[o,u]],[/android.+[;\/]\s*(Trinity)[\-\s]*(T\d{3})\s+build/i],[a,n,[o,u]],[/android.+[;\/]\s*TU_(1491)\s+build/i],[n,[a,"Rotor"],[o,u]],[/android.+(Gigaset)[\s\-]+(Q\w{1,9})\s+build/i],[a,n,[o,u]],[/android .+?; ([^;]+?)(?: build|\) applewebkit).+? mobile safari/i],[n,[o,d]],[/android .+?;\s([^;]+?)(?: build|\) applewebkit).+?(?! mobile) safari/i],[n,[o,u]],[/\s(tablet|tab)[;\/]/i,/\s(mobile)(?:[;\/]|\ssafari)/i],[[o,p.lowerize],a,n],[/[\s\/\(](smart-?tv)[;\)]/i],[[o,l]],[/(android[\w\.\s\-]{0,9});.+build/i],[n,[a,"Generic"]],[/(phone)/i],[[o,d]]],engine:[[/windows.+\sedge\/([\w\.]+)/i],[c,[s,"EdgeHTML"]],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[c,[s,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna)\/([\w\.]+)/i,/(khtml|tasman|links)[\/\s]\(?([\w\.]+)/i,/(icab)[\/\s]([23]\.[\d\.]+)/i],[s,c],[/rv\:([\w\.]{1,9}).+(gecko)/i],[c,s]],os:[[/(xbox);\s+xbox\s([^\);]+)/i,/microsoft\s(windows)\s(vista|xp)/i],[s,c],[/(windows)\snt\s6\.2;\s(arm)/i,/(windows\sphone(?:\sos)*)[\s\/]?([\d\.\s\w]*)/i,/(windows\smobile|windows)[\s\/]?([ntce\d\.\s]+\w)/i],[s,[c,f.str,m.os.windows.version]],[/(win(?=3|9|n)|win\s9x\s)([nt\d\.]+)/i],[[s,"Windows"],[c,f.str,m.os.windows.version]],[/\((bb)(10);/i],[[s,"BlackBerry"],c],[/(blackberry)\w*\/?([\w\.]*)/i,/(tizen|kaios)[\/\s]([\w\.]+)/i,/(android|webos|palm\sos|qnx|bada|rim\stablet\sos|meego|sailfish|contiki)[\/\s-]?([\w\.]*)/i],[s,c],[/(symbian\s?os|symbos|s60(?=;))[\/\s-]?([\w\.]*)/i],[[s,"Symbian"],c],[/\((series40);/i],[s],[/mozilla.+\(mobile;.+gecko.+firefox/i],[[s,"Firefox OS"],c],[/crkey\/([\d\.]+)/i],[c,[s,"Chromecast"]],[/(nintendo|playstation)\s([wids34portablevu]+)/i,/(mint)[\/\s\(]?(\w*)/i,/(mageia|vectorlinux)[;\s]/i,/(joli|[kxln]?ubuntu|debian|suse|opensuse|gentoo|(?=\s)arch|slackware|fedora|mandriva|centos|pclinuxos|redhat|zenwalk|linpus)[\/\s-]?(?!chrom)([\w\.-]*)/i,/(hurd|linux)\s?([\w\.]*)/i,/(gnu)\s?([\w\.]*)/i],[s,c],[/(cros)\s[\w]+\s([\w\.]+\w)/i],[[s,"Chromium OS"],c],[/(sunos)\s?([\w\.\d]*)/i],[[s,"Solaris"],c],[/\s([frentopc-]{0,4}bsd|dragonfly)\s?([\w\.]*)/i],[s,c],[/(haiku)\s(\w+)/i],[s,c],[/cfnetwork\/.+darwin/i,/ip[honead]{2,4}(?:.*os\s([\w]+)\slike\smac|;\sopera)/i],[[c,/_/g,"."],[s,"iOS"]],[/(mac\sos\sx)\s?([\w\s\.]*)/i,/(macintosh|mac(?=_powerpc)\s)/i],[[s,"Mac OS"],[c,/_/g,"."]],[/((?:open)?solaris)[\/\s-]?([\w\.]*)/i,/(aix)\s((\d)(?=\.|\)|\s)[\w\.])*/i,/(plan\s9|minix|beos|os\/2|amigaos|morphos|risc\sos|openvms|fuchsia)/i,/(unix)\s?([\w\.]*)/i],[s,c]]},g=function(i,t){if("object"==typeof i&&(t=i,i=void 0),!(this instanceof g))return new g(i,t).getResult();var r=i||(e&&e.navigator&&e.navigator.userAgent?e.navigator.userAgent:""),n=t?p.extend(h,t):h;return this.getBrowser=function(){var e={name:void 0,version:void 0};return f.rgx.call(e,r,n.browser),e.major=p.major(e.version),e},this.getCPU=function(){var e={architecture:void 0};return f.rgx.call(e,r,n.cpu),e},this.getDevice=function(){var e={vendor:void 0,model:void 0,type:void 0};return f.rgx.call(e,r,n.device),e},this.getEngine=function(){var e={name:void 0,version:void 0};return f.rgx.call(e,r,n.engine),e},this.getOS=function(){var e={name:void 0,version:void 0};return f.rgx.call(e,r,n.os),e},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return r},this.setUA=function(e){return r=e,this},this};g.VERSION="0.7.24",g.BROWSER={NAME:s,MAJOR:"major",VERSION:c},g.CPU={ARCHITECTURE:"architecture"},g.DEVICE={MODEL:n,VENDOR:a,TYPE:o,CONSOLE:"console",MOBILE:d,SMARTTV:l,TABLET:u,WEARABLE:"wearable",EMBEDDED:"embedded"},g.ENGINE={NAME:s,VERSION:c},g.OS={NAME:s,VERSION:c},void 0!==t?(void 0!==i&&i.exports&&(t=i.exports=g),t.UAParser=g):e&&(e.UAParser=g);var v=e&&(e.jQuery||e.Zepto);if(v&&!v.ua){var w=new g;v.ua=w.getResult(),v.ua.get=function(){return w.getUA()},v.ua.set=function(e){w.setUA(e);var i=w.getResult();for(var t in i)v.ua[t]=i[t]}}}("object"==typeof window?window:this)},{}],22:[function(e,i,t){for(var r=[],n=0;n<256;++n)r[n]=(n+256).toString(16).substr(1);i.exports=function(e,i){var t=i||0,n=r;return[n[e[t++]],n[e[t++]],n[e[t++]],n[e[t++]],"-",n[e[t++]],n[e[t++]],"-",n[e[t++]],n[e[t++]],"-",n[e[t++]],n[e[t++]],"-",n[e[t++]],n[e[t++]],n[e[t++]],n[e[t++]],n[e[t++]],n[e[t++]]].join("")}},{}],23:[function(e,i,t){var r="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(r){var n=new Uint8Array(16);i.exports=function(){return r(n),n}}else{var s=new Array(16);i.exports=function(){for(var e,i=0;i<16;i++)0==(3&i)&&(e=4294967296*Math.random()),s[i]=e>>>((3&i)<<3)&255;return s}}},{}],24:[function(e,i,t){var r=e("./lib/rng"),n=e("./lib/bytesToUuid");i.exports=function(e,i,t){var s=i&&t||0;"string"==typeof e&&(i="binary"===e?new Array(16):null,e=null);var o=(e=e||{}).random||(e.rng||r)();if(o[6]=15&o[6]|64,o[8]=63&o[8]|128,i)for(var a=0;a<16;++a)i[s+a]=o[a];return i||n(o)}},{"./lib/bytesToUuid":22,"./lib/rng":23}],25:[function(e,i,t){function r(){}i.exports=r,r.mixin=function(e){var i=e.prototype||e;i.isWildEmitter=!0,i.on=function(e,i,t){this.callbacks=this.callbacks||{};var r=3===arguments.length,n=r?arguments[1]:void 0,s=r?arguments[2]:arguments[1];return s._groupName=n,(this.callbacks[e]=this.callbacks[e]||[]).push(s),this},i.once=function(e,i,t){var r=this,n=3===arguments.length,s=n?arguments[1]:void 0,o=n?arguments[2]:arguments[1];return this.on(e,s,function i(){r.off(e,i),o.apply(this,arguments)}),this},i.releaseGroup=function(e){var i,t,r,n;for(i in this.callbacks=this.callbacks||{},this.callbacks)for(t=0,r=(n=this.callbacks[i]).length;t<r;t++)n[t]._groupName===e&&(n.splice(t,1),t--,r--);return this},i.off=function(e,i){this.callbacks=this.callbacks||{};var t,r=this.callbacks[e];return r?1===arguments.length?(delete this.callbacks[e],this):(-1!==(t=r.indexOf(i))&&(r.splice(t,1),0===r.length&&delete this.callbacks[e]),this):this},i.emit=function(e){this.callbacks=this.callbacks||{};var i,t,r,n=[].slice.call(arguments,1),s=this.callbacks[e],o=this.getWildcardCallbacks(e);if(s)for(i=0,t=(r=s.slice()).length;i<t&&r[i];++i)r[i].apply(this,n);if(o)for(t=o.length,i=0,t=(r=o.slice()).length;i<t&&r[i];++i)r[i].apply(this,[e].concat(n));return this},i.getWildcardCallbacks=function(e){this.callbacks=this.callbacks||{};var i,t,r=[];for(i in this.callbacks)t=i.split("*"),("*"===i||2===t.length&&e.slice(0,t[0].length)===t[0])&&(r=r.concat(this.callbacks[i]));return r}},r.mixin(r)},{}]},{},[2])(2)});